<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QIR Pass Runner + QIR Selector Runner: src/qpassrunner_d.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">QIR Pass Runner + QIR Selector Runner
   </div>
   <div id="projectbrief">This project consists of the Pass and the Selector runners</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">qpassrunner_d.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of the QIR Pass Runner daemon. <a href="https://gitlab-int.srv.lrz.de/lrz-qct-qis/quantum_intermediate_representation/qir_passes/-/blob/Plugins/src/qpassrunner_d.cpp?ref_type=heads">Source code.</a>  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="QirPassRunner_8hpp_source.html">QirPassRunner.hpp</a>&quot;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;cstring&gt;</code><br />
<code>#include &lt;csignal&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;sys/ioctl.h&gt;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;thread&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aba20c76594120317705cc9a87075f28e" id="r_aba20c76594120317705cc9a87075f28e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba20c76594120317705cc9a87075f28e">handleSelector</a> (int selectorSocket)</td></tr>
<tr class="memdesc:aba20c76594120317705cc9a87075f28e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function triggered whenever a selector connects to this daemon. Its job is to receive the QIR in binary blob and parse it into an LLVM module. Then, it receives the names of all those passes that should subsequently be applied to the QIR. Finally, it receives from the selector an End Of Transmission (EOT) message to stop lisenting for more passes. All passes are appended to a '<a class="el" href="classQirPassRunner.html" title="The &#39;QirPassRunner&#39; class is a derived class of the &#39;PassModule&#39; abstract class. This derived class k...">QirPassRunner</a>' instance which is also used to run the passes.  <br /></td></tr>
<tr class="separator:aba20c76594120317705cc9a87075f28e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ee3282bc313e547dbbb8d4f4010db61" id="r_a8ee3282bc313e547dbbb8d4f4010db61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ee3282bc313e547dbbb8d4f4010db61">signalHandler</a> (int signum)</td></tr>
<tr class="memdesc:a8ee3282bc313e547dbbb8d4f4010db61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for the graceful termination of the daemon closing its own socket before exiting.  <br /></td></tr>
<tr class="separator:a8ee3282bc313e547dbbb8d4f4010db61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe" id="r_a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:a840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main entry point of the program.  <br /></td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6dde884e19bdc8f342ffec8fc17e7c91" id="r_a6dde884e19bdc8f342ffec8fc17e7c91"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6dde884e19bdc8f342ffec8fc17e7c91">PORT</a> = 8081</td></tr>
<tr class="memdesc:a6dde884e19bdc8f342ffec8fc17e7c91"><td class="mdescLeft">&#160;</td><td class="mdescRight">The port number from which the daemon will listen for incomming connections.  <br /></td></tr>
<tr class="separator:a6dde884e19bdc8f342ffec8fc17e7c91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9e59174e414c2fdacc34a8925a4bdca" id="r_ab9e59174e414c2fdacc34a8925a4bdca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9e59174e414c2fdacc34a8925a4bdca">qprSocket</a> = -1</td></tr>
<tr class="separator:ab9e59174e414c2fdacc34a8925a4bdca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a105f2697a34f86b74239a0688bf4159a" id="r_a105f2697a34f86b74239a0688bf4159a"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a105f2697a34f86b74239a0688bf4159a">QIS_START</a> = &quot;__quantum__qis_&quot;</td></tr>
<tr class="memdesc:a105f2697a34f86b74239a0688bf4159a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to define the quantum prefix.  <br /></td></tr>
<tr class="separator:a105f2697a34f86b74239a0688bf4159a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of the QIR Pass Runner daemon. <a href="https://gitlab-int.srv.lrz.de/lrz-qct-qis/quantum_intermediate_representation/qir_passes/-/blob/Plugins/src/qpassrunner_d.cpp?ref_type=heads">Source code.</a> </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aba20c76594120317705cc9a87075f28e" name="aba20c76594120317705cc9a87075f28e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba20c76594120317705cc9a87075f28e">&#9670;&#160;</a></span>handleSelector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handleSelector </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>selectorSocket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function triggered whenever a selector connects to this daemon. Its job is to receive the QIR in binary blob and parse it into an LLVM module. Then, it receives the names of all those passes that should subsequently be applied to the QIR. Finally, it receives from the selector an End Of Transmission (EOT) message to stop lisenting for more passes. All passes are appended to a '<a class="el" href="classQirPassRunner.html" title="The &#39;QirPassRunner&#39; class is a derived class of the &#39;PassModule&#39; abstract class. This derived class k...">QirPassRunner</a>' instance which is also used to run the passes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">selectorSocket</td><td>The socket to connect with a selector </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a840291bc02cba5474a4cb46a9b9566fe" name="a840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840291bc02cba5474a4cb46a9b9566fe">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main entry point of the program. </p>
<p>The QIR Pass Runner daemon.</p>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

</div>
</div>
<a id="a8ee3282bc313e547dbbb8d4f4010db61" name="a8ee3282bc313e547dbbb8d4f4010db61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ee3282bc313e547dbbb8d4f4010db61">&#9670;&#160;</a></span>signalHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signalHandler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for the graceful termination of the daemon closing its own socket before exiting. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signum</td><td>Number of the interrupt signal </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6dde884e19bdc8f342ffec8fc17e7c91" name="a6dde884e19bdc8f342ffec8fc17e7c91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dde884e19bdc8f342ffec8fc17e7c91">&#9670;&#160;</a></span>PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PORT = 8081</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The port number from which the daemon will listen for incomming connections. </p>
<p>The port number from which the selector will listen for incomming connections. </p>

</div>
</div>
<a id="a105f2697a34f86b74239a0688bf4159a" name="a105f2697a34f86b74239a0688bf4159a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a105f2697a34f86b74239a0688bf4159a">&#9670;&#160;</a></span>QIS_START</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QIS_START = &quot;__quantum__qis_&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to define the quantum prefix. </p>

</div>
</div>
<a id="ab9e59174e414c2fdacc34a8925a4bdca" name="ab9e59174e414c2fdacc34a8925a4bdca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9e59174e414c2fdacc34a8925a4bdca">&#9670;&#160;</a></span>qprSocket</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int qprSocket = -1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
